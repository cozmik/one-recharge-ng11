{"version":3,"sources":["./src/app/home/pages/Dashboard/user-shared/perform-service/perform-service.component.ts","./src/app/home/pages/Dashboard/user-shared/perform-service/perform-service.component.html","./src/app/home/pages/Dashboard/user-shared/user-shared.module.ts","./src/app/home/pages/Dashboard/user-shared/select-package/select-package.component.ts","./src/app/home/pages/Dashboard/user-shared/select-package/select-package.component.html","./src/app/home/pages/Dashboard/AdminDashboardPages/service-management/models/service-category.model.ts"],"names":[],"mappings":"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","file":"default~home-pages-Dashboard-AgentDashboardPages-agent-module~home-pages-Dashboard-CustomerDashboard~3f6e4215.js","sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {ServiceStoreService} from '../../AdminDashboardPages/service-management/store/service-store.service';\nimport {CategoryInterface} from '../../AdminDashboardPages/service-management/models/service-category.model';\nimport {ServiceFormBase} from '../../../../common-components/service-form-base';\nimport {FormGroup} from '@angular/forms';\nimport {SharedService} from '../../../../../core/services/shared-service/shared.service';\nimport {AnonymousService} from '../../../../../core/services/anonymous-service';\n\n@Component({\n  selector: 'app-perform-service',\n  templateUrl: './perform-service.component.html',\n  styleUrls: ['./perform-service.component.scss']\n})\nexport class PerformServiceComponent implements OnInit {\n  category: CategoryInterface;\n  chosenServiceId: any;\n  fields: any[];\n  form: FormGroup;\n  chosenService: any;\n\n  constructor(\n    private ar: ActivatedRoute,\n    private router: Router,\n    private smStore: ServiceStoreService,\n    public sharedService: SharedService,\n    private anonymousService: AnonymousService\n  ) {\n    const id = +this.ar.snapshot.paramMap.get('id');\n    this.smStore.categories.subscribe(res => {\n      if (res){\n        this.category = this.smStore.getCategory(id);\n      }\n    });\n    const state = this.router.getCurrentNavigation().extras.state;\n    if (state) {\n      this.chosenServiceId = state['serviceId'];\n      this.setService();\n    }\n  }\n\n  ngOnInit(): void {\n  }\n\n  setService(): void {\n    const holdFields = [];\n    this.chosenService = this.category.serviceResponses.find(s => s.id === this.chosenServiceId);\n    this.chosenService.meta.fields.forEach(field => {\n      holdFields.push(new ServiceFormBase(field));\n    });\n    this.fields = holdFields;\n    this.form = this.sharedService.toFormGroup(this.fields);\n  }\n\n  submitServiceData(e: Event, confirm = false): void {\n    const {hasConfirmation, url, confirmationUrl} = this.chosenService.meta;\n    if (hasConfirmation) {\n      this.anonymousService.performService(confirmationUrl, url, e).subscribe(res => {\n        console.log(res);\n      });\n    }\n  }\n}\n","<div class=\"package-card\">\n  <div class=\"loader\" *ngIf=\"false\"><span class=\"fa fa-spinner icon-loader\"></span></div>\n  <header style=\"font-weight:700;\">\n    <a [routerLink]=\"'..'\" class=\"back-btn\"><i class=\"fa fa-arrow-left\"></i><span>back to Home</span></a>\n    <span>{{category?.categoryName}}  {{sharedService.prettifyString(chosenService?.serviceName ? ' - ' + chosenService.serviceName : '')}}</span>\n  </header>\n  <div>\n<!--    <mat-progress-bar *ngIf=\"false\" mode=\"indeterminate\"></mat-progress-bar>-->\n  </div>\n  <div class=\"content-area\">\n    <div class=\"container\">\n      <div class=\"row mt-5 mb-5\">\n        <div class=\"col-xl-3\">\n\n        </div>\n        <div class=\"col-xl-6 col-sm-12\">\n          <div class=\"widget-content\">\n\n            <!--recharge block -->\n            <div class=\"widget-content-block recharge\">\n                <mat-form-field class=\"d-block\">\n                  <mat-select placeholder=\"Pick a service\" required\n                              [(ngModel)]=\"chosenServiceId\" (ngModelChange)=\"setService()\" style=\"width:100%;\">\n                      <mat-option *ngFor=\"let service of category?.serviceResponses\" [value]=\"service.id\">\n                          {{sharedService.prettifyString(service.serviceName)}}\n                      </mat-option>\n                  </mat-select>\n                </mat-form-field>\n\n              <app-dynamic-form *ngIf=\"fields\" [form]=\"form\" [fields]=\"fields\" (submitData)=\"submitServiceData($event)\"></app-dynamic-form>\n            </div>\n            <!--recharge block-->\n\n            <!--recharge verify block-->\n<!--            <div class=\"widget-content-block verify-recharge\" [class.visible]=\"switchState === 'recharge-verify'\">-->\n<!--              <h4 style=\"margin:0;\">Recharge Details</h4>-->\n<!--              <p>Please confirm recharge details to proceed</p>-->\n<!--              <div class=\"inner-content-area\">-->\n<!--                <div class=\"block\"><span class=\"title\">Phone number</span> <span-->\n<!--                  class=\"value\">{{rechargeObj.receiverMsisdn | checkNull : ''}}</span></div>-->\n<!--                <div class=\"block\"><span class=\"title\">Network</span> <span-->\n<!--                  class=\"value\">{{rechargeObj.networkName | checkNull : ''}}</span></div>-->\n<!--                <div class=\"block\"><span class=\"title\">Amount</span> <span-->\n<!--                  class=\"value\"> {{rechargeObj.amount | currency : 'NGN' : 'symbol-narrow' | moneyFormatter | checkNull : ''}}</span></div>-->\n<!--              </div>-->\n\n<!--              <button md-raised-button type=\"button\" color=\"\" (click)=\"goToPage()\" [disabled]=\"isRecharging\"> Back-->\n<!--              </button>-->\n\n<!--              <button md-raised-button type=\"button\" (click)=\"generateTransaction()\" [disabled]=\"isRecharging\"-->\n<!--                      color=\"accent\">{{!isRecharging ? 'Pay' : 'Please wait'}}-->\n<!--                <i *ngIf=\"isRecharging\" class=\"fa fa-spinner fa-spin\"></i>-->\n<!--              </button>-->\n\n<!--            </div>-->\n            <!--recharge verify block-->\n\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {PerformServiceComponent} from './perform-service/perform-service.component';\nimport {SharedModule} from '../../../../core/shared/modules/shared.module';\nimport { RecentServicesComponent } from '../../../common-components/recent-services/recent-services.component';\nimport {SelectPackageComponent} from './select-package/select-package.component';\nimport {RouterModule} from '@angular/router';\n\n\n\n@NgModule({\n  declarations: [\n    PerformServiceComponent,\n    SelectPackageComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule\n  ],\n  exports: [\n    PerformServiceComponent,\n    SelectPackageComponent\n  ]\n})\nexport class UserSharedModule { }\n","import { Component, OnInit } from '@angular/core';\r\nimport {ServiceStoreService} from '../../AdminDashboardPages/service-management/store/service-store.service';\r\nimport {ServiceCategoryModel} from '../../AdminDashboardPages/service-management/models/service-category.model';\r\nimport {DomSanitizer} from '@angular/platform-browser';\r\nimport {SharedService} from '../../../../../core/services/shared-service/shared.service';\r\n\r\n@Component({\r\n  selector: 'app-select-package',\r\n  templateUrl: './select-package.component.html',\r\n  styleUrls: ['./select-package.component.scss']\r\n})\r\nexport class SelectPackageComponent implements OnInit {\r\n  categories: ServiceCategoryModel[];\r\n\r\n  constructor(private smStore: ServiceStoreService, public sanitizer: DomSanitizer, public sharedService: SharedService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.smStore.categories.subscribe(res => {\r\n      const cat: ServiceCategoryModel[] = [];\r\n      res.forEach(category => {\r\n        cat.push(new ServiceCategoryModel(category));\r\n      });\r\n      this.categories = cat;\r\n    });\r\n  }\r\n\r\n}\r\n","<!--package section-->\r\n<!--<h3 class=\"package-heading\">Packages</h3>-->\r\n<!--<p style=\"margin:2px 0px 2px;\">Kindly Select a Package</p>-->\r\n<div class=\"package-section\">\r\n  <button class=\"package\" [routerLink]=\"category.id\" *ngFor=\"let category of categories\">\r\n    <div class=\"logo\">\r\n      <img [src]=\"sanitizer.bypassSecurityTrustResourceUrl(category.categoryLogo)\">\r\n    </div>\r\n    <p>{{sharedService.prettifyString(category.categoryName)}}</p>\r\n  </button>\r\n</div>\r\n","import {ServiceInterface, ServiceModel} from './service.model';\r\nimport {Constants} from '../../../../../../shared/Constants';\r\n\r\nexport interface CategoryInterface {\r\n  categoryCode: string;\r\n  categoryLogo: string;\r\n  categoryName: string;\r\n  createdDate: Date;\r\n  description: string;\r\n  id: number;\r\n  serviceResponses: ServiceInterface[];\r\n}\r\n\r\nexport class ServiceCategoryModel implements CategoryInterface {\r\n  serviceUrl = Constants.SERVICE_URL + '/';\r\n  categoryCode: string;\r\n  private _categoryLogo: string;\r\n  categoryName: string;\r\n  createdDate: Date;\r\n  description: string;\r\n  id: number;\r\n  private _services: ServiceModel[];\r\n  serviceResponses: ServiceModel[];\r\n\r\n\r\n  constructor(object: any) {\r\n    this._services = object.serviceResponses;\r\n    this.categoryCode = object.categoryCode;\r\n    this._categoryLogo = object.categoryLogo;\r\n    this.categoryName = object.categoryName;\r\n    this.createdDate = object.createdDate;\r\n    this.description = object.description;\r\n    this.id = object.id;\r\n    this.serviceResponses = object.serviceResponses;\r\n  }\r\n\r\n  get categoryLogo(): string {\r\n    if (!this._categoryLogo) {\r\n      return 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMC44NDkiIGhlaWdodD0iMjUuMDY0IiB2aWV3Qm94PSIwIDAgMzAuODQ5IDI1LjA2NCI+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9IjA4ZzRiamZ5cGEiIHgxPSIuNSIgeDI9Ii41IiB5Mj0iMSIgZ3JhZGllbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1ZmE0ZDIiIHN0b3Atb3BhY2l0eT0iLjYiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMzA1MjY5Ii8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxwYXRoIGZpbGw9InVybCgjMDhnNGJqZnlwYSkiIGQ9Ik0yNy42MzUgMzAuODQ5bDUuNzg0LTE1LjQyNEg4LjM1NUwyLjU3MSAzMC44NDl6TTYuNDI3IDEzLjVMMi41NzEgMzAuODQ5VjUuNzg0aDguNjc2TDE1LjEgOS42NGgxMi41MzV2My44NnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yLjU3MSAtNS43ODQpIi8+Cjwvc3ZnPgo=';\r\n    } else {\r\n      return this.serviceUrl + this._categoryLogo;\r\n    }\r\n  }\r\n\r\n  set categoryLogo(value: string) {\r\n    this._categoryLogo = value;\r\n  }\r\n\r\n  get imagePath(): string {\r\n    if (!this._categoryLogo) {\r\n      return 'assets/img/no-image.png';\r\n    } else {\r\n      return this._categoryLogo;\r\n    }\r\n  }\r\n\r\n  get services(): ServiceModel[] {\r\n    const serv = [];\r\n    this._services.forEach(sv => {\r\n      serv.push(new ServiceModel(sv));\r\n    });\r\n    return serv;\r\n  }\r\n\r\n  set services(value: ServiceModel[]) {\r\n    this._services = value;\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}